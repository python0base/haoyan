import{d as V,q as N,bf as $,o as a,a as k,g,t as v,e as u,w as s,X as f,O as P,b0 as j,j as _,ai as l,u as b,r as O,_ as R}from"./index.7e83dcb1.js";import{u as X,b as G,c as H,d as J,f as K}from"./format.8e2d53f4.js";import"./el-checkbox.714f37de.js";import"./el-tooltip.cb36dc38.js";import{q as M}from"./el-button.3febf8bc.js";const Q={class:"content"},W={class:"header"},Y={class:"title"},Z={class:"table"},ee={class:"pagination"},te=V({__name:"page-content",props:{contentConfig:null},emits:["newClick","editClick"],setup(c,{expose:S,emit:z}){const w=c,C=X(),m=N(1),y=N(10);p();const{pageList:T,pageTotalCount:I}=$(C);function L(){p()}function D(){p()}function p(n={}){const o=y.value,i=(m.value-1)*o,h={...{size:o,offset:i},...n};C.postPageListAction(w.contentConfig.pageName,h)}function F(n){C.deletePageByIdAction(w.contentConfig.pageName,n)}function U(){z("newClick")}function q(n){z("editClick",n)}return S({fetchPageListData:p}),(n,o)=>{var E,B,x;const i=M,r=G,h=H,A=J;return a(),k("div",Q,[g("div",W,[g("h3",Y,v((x=(B=(E=c.contentConfig)==null?void 0:E.header)==null?void 0:B.title)!=null?x:"\u6570\u636E\u5217\u8868"),1),u(i,{type:"primary",onClick:U},{default:s(()=>{var e,t,d;return[f(v((d=(t=(e=c.contentConfig)==null?void 0:e.header)==null?void 0:t.btnTitle)!=null?d:"\u65B0\u5EFA\u6570\u636E"),1)]}),_:1})]),g("div",Z,[u(h,l({data:b(T),border:"",style:{width:"100%"}},c.contentConfig.childrenTree),{default:s(()=>[(a(!0),k(P,null,j(c.contentConfig.propsList,e=>(a(),k(P,{key:e.prop},[e.type==="timer"?(a(),_(r,l({key:0,align:"center"},e),{default:s(t=>[f(v(b(K)(t.row[e.prop])),1)]),_:2},1040)):e.type==="handler"?(a(),_(r,l({key:1,align:"center"},e),{default:s(t=>[u(i,{size:"small",icon:"Edit",type:"primary",text:"",onClick:d=>q(t.row)},{default:s(()=>[f(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),u(i,{size:"small",icon:"Delete",type:"danger",text:"",onClick:d=>F(t.row.id)},{default:s(()=>[f(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:2},1040)):e.type==="custom"?(a(),_(r,l({key:2,align:"center"},e),{default:s(t=>[O(n.$slots,e.slotName,l(t,{prop:e.prop,hName:"why"}),void 0,!0)]),_:2},1040)):(a(),_(r,l({key:3,align:"center"},e),null,16))],64))),128))]),_:3},16,["data"])]),g("div",ee,[u(A,{"current-page":m.value,"onUpdate:current-page":o[0]||(o[0]=e=>m.value=e),"page-size":y.value,"onUpdate:page-size":o[1]||(o[1]=e=>y.value=e),"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:b(I),onSizeChange:L,onCurrentChange:D},null,8,["current-page","page-size","total"])])])}}});const ce=R(te,[["__scopeId","data-v-1c3e9fc4"]]);export{ce as P};
